{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?c810","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/components/Search.vue?6eb0","webpack:///./src/components/SearchResults.vue?a4a1","webpack:///./src/components/ResultList.vue?a9e3","webpack:///./src/components/ResultEntry.vue?0124","webpack:///./src/components/ResultImg.vue?e253","webpack:///src/components/ResultImg.vue","webpack:///./src/components/ResultImg.vue?13c5","webpack:///./src/components/ResultImg.vue","webpack:///./src/utils.js","webpack:///./src/event-bus.js","webpack:///src/components/ResultEntry.vue","webpack:///./src/components/ResultEntry.vue?f7e2","webpack:///./src/components/ResultEntry.vue","webpack:///src/components/ResultList.vue","webpack:///./src/components/ResultList.vue?06ae","webpack:///./src/components/ResultList.vue","webpack:///src/components/SearchResults.vue","webpack:///./src/components/SearchResults.vue?0301","webpack:///./src/components/SearchResults.vue","webpack:///./src/tvmazeApi.js","webpack:///./src/database.js","webpack:///./src/tvmazeController.js","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?f472","webpack:///./src/components/Search.vue","webpack:///./src/components/AboutUs.vue?d28a","webpack:///./src/components/AboutUs.vue","webpack:///./src/components/Missing.vue?1bd8","webpack:///./src/components/Missing.vue","webpack:///./src/components/NoShow.vue?80f1","webpack:///./src/components/NoShow.vue","webpack:///./src/components/Show.vue?10a9","webpack:///src/components/Show.vue","webpack:///./src/components/Show.vue?5e21","webpack:///./src/components/Show.vue","webpack:///./src/router.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_7be5b996_render","_vm","this","_h","$createElement","_c","_self","attrs","id","toggleable","to","staticStyle","height","src","alt","target","is-nav","_v","staticClass","href","staticRenderFns","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","component","componentNormalizer","App","Searchvue_type_template_id_64834cce_render","autocomplete","placeholder","on","input","debounceInput","focus","onfocus","model","callback","$$v","searchTerm","expression","searchQuery","searching","_e","Searchvue_type_template_id_64834cce_staticRenderFns","SearchResultsvue_type_template_id_7b6fd281_render","term","margin-bottom","_s","results","time","SearchResultsvue_type_template_id_7b6fd281_staticRenderFns","ResultListvue_type_template_id_08229d25_render","_l","ref","ResultListvue_type_template_id_08229d25_staticRenderFns","ResultEntryvue_type_template_id_50ba90f7_render","click","clicked","cols","sm","width","premiered","substring","type","variant","statusVariant","status","genre","summaryText","ResultEntryvue_type_template_id_50ba90f7_staticRenderFns","ResultImgvue_type_template_id_273c6081_render","ResultImgvue_type_template_id_273c6081_staticRenderFns","ResultImgvue_type_script_lang_js_","props","methods","loadImage","_this","thumbUrl","thumb","URL","createObjectURL","fetch","then","res","blob","save","mounted","watch","newShow","components_ResultImgvue_type_script_lang_js_","ResultImg_component","ResultImg","SearchCancelledError","_Error","classCallCheck","possibleConstructorReturn","getPrototypeOf","constructor","inherits","wrapNativeSuper","Error","NotFoundError","_Error2","_this2","sleep","ms","Promise","setTimeout","getCurTime","Date","getTime","getAllWords","text","wordSet","Set","toLowerCase","split","forEach","w","add","toConsumableArray","asyncMap","_x","_x2","_x3","_x4","_asyncMap","arguments","_callee","arr","func","entriesPerStep","cancelObj","newArr","regeneratorRuntime","wrap","_context","prev","next","isCancelled","abrupt","stop","convertHtmlToText","inputText","returnText","replace","EventBus","Vue","SUMMARY_LENGTH","ResultEntryvue_type_script_lang_js_","components","result-img","computed","summary","$emit","$router","params","components_ResultEntryvue_type_script_lang_js_","ResultEntry_component","ResultEntry","ResultListvue_type_script_lang_js_","filterOpen","result-entry","Array","sanitizedSummary","sanitizeHtml","components_ResultListvue_type_script_lang_js_","ResultList_component","ResultList","SearchResultsvue_type_script_lang_js_","result-list","Boolean","components_SearchResultsvue_type_script_lang_js_","SearchResults_component","SearchResults","BACKOFF_BASE","axiosInstance","axios","baseURL","timeout","requestQueue","requestQueueRunning","TVMazeAPI","config","attempt","request","t0","isAxiosError","response","backoff","Math","min","round","pow","maxRetries","console","log","concat","pop","resolve","reject","doRequest","catch","finally","runQueue","priority","url","_objectSpread","method","getUri","page","TypeError","esm_typeof","Number","isInteger","RangeError","showId","tvmazeApi","db","Dexie","version","stores","shows","hook","primKey","obj","trans","nameWords","startsWith","imageUrl","mods","newMods","Show","defineClass","String","updated","Blob","genres","episodes","season","number","episodesFetched","put","DAY_IN_MILLIS","PAGE_SIZE","TVMazeController","timeStr","localStorage","getItem","timeNum","parseInt","_lastUpdated","lastUpdated","refreshShows","getNewShows","word","where","startsWithIgnoreCase","distinct","toArray","promiseList","transaction","asyncToGenerator","mark","allIds","ids","all","sent","reduce","wArr","cArr","includes","anyOf","typedTermArr","searchPromises","map","equalsIgnoreCase","primaryKeys","lastWord","cancelCallback","termArr","join","searchTypingFirstWord","searchLastCharSpace","searchTypingMultipleWords","termLower","e","rating","stringSimilarity","compareTwoStrings","a","b","sort","pageData","pageNum","_callee3","lowestId","highestId","cachedEntries","cachedKeys","tvm","cachedShow","_context3","between","bulkDelete","filter","find","e2","image","original","medium","Api","getShowsPage","parsePage","_context4","t3","lastId","floor","refreshPage","refreshFromId","orderBy","last","_callee8","show","_context8","navigator","onLine","waitFor","getEpisodes","val","setItem","tvmazeController","Searchvue_type_script_lang_js_","hasFocus","cancelFunc","busHandler","search-results","onCloseSeacrh","onPageClick","event","$el","contains","debounce_default","doSearch","trim","cancelSearch","search","err","utils_SearchCancelledError","document","addEventListener","$on","beforeDestroy","removeEventListener","$off","components_Searchvue_type_script_lang_js_","Search_component","Search","AboutUsvue_type_template_id_66d60e6c_render","AboutUsvue_type_template_id_66d60e6c_staticRenderFns","script","AboutUs_component","AboutUs","Missingvue_type_template_id_cba201f6_render","Missingvue_type_template_id_cba201f6_staticRenderFns","Missing_script","Missing_component","Missing","NoShowvue_type_template_id_aa619552_render","NoShowvue_type_template_id_aa619552_staticRenderFns","NoShow_script","NoShow_component","NoShow","Showvue_type_template_id_43af82e7_render","margin-top","episode","button","padStart","seasons","Showvue_type_template_id_43af82e7_staticRenderFns","Showvue_type_script_lang_js_","seasonsArr","seasonIndex","isArray","fetchShow","_fetchShow","getShow","error","newId","oldId","components_Showvue_type_script_lang_js_","Show_component","components_Show","routes","path","children","route","router_objectSpread","router","VueRouter","tvmc","use","BootstrapVue","productionTip","open","render","h","created","_created","$mount","UpgradeError","removeItem","indexedDB","databases","deleteDatabase","alert","location","reload"],"mappings":"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","file":"js/app.bea729b0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-container',[_c('b-navbar',{attrs:{\"toggleable\":\"md\"}},[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_c('img',{staticStyle:{\"height\":\"100px\"},attrs:{\"src\":\"/static/img/logo_transparent.png\",\"alt\":\"Linn's TV Search\"}})]),_c('b-navbar-toggle',{attrs:{\"target\":\"mainNav\"}},[_c('img',{attrs:{\"src\":\"/static/img/hamburger_icon.svg\"}})]),_c('b-collapse',{attrs:{\"is-nav\":\"\",\"id\":\"mainNav\"}},[_c('b-navbar-nav',[_c('b-nav-item',{attrs:{\"to\":\"about\"}},[_vm._v(\"About Us\")]),_c('b-nav-item',{staticClass:\"nav-github-link\",attrs:{\"href\":\"https://github.com/SimplyLinn/tvmaze-api-frontend\"}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"/static/img/GitHub-Mark.png\"}}),_vm._v(\" Github\")])],1)],1)],1),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <b-container>\n      <b-navbar toggleable=\"md\">\n        <b-navbar-brand to=\"/\"><img src=\"/static/img/logo_transparent.png\" style=\"height: 100px;\" alt=\"Linn's TV Search\"/></b-navbar-brand>\n        <b-navbar-toggle target=\"mainNav\">\n          <img src=\"/static/img/hamburger_icon.svg\" />\n        </b-navbar-toggle>\n        <b-collapse is-nav id=\"mainNav\">\n          <b-navbar-nav>\n            <b-nav-item to=\"about\">About Us</b-nav-item>\n            <b-nav-item href=\"https://github.com/SimplyLinn/tvmaze-api-frontend\" class=\"nav-github-link\"><img class=\"icon\" src=\"/static/img/GitHub-Mark.png\"> Github</b-nav-item>\n          </b-navbar-nav>\n        </b-collapse>\n      </b-navbar>\n      <router-view>\n      </router-view>\n    </b-container>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'app'\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7be5b996&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-form-input',{staticClass:\"searchForm\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"Search for series\"},on:{\"input\":_vm.debounceInput,\"focus\":_vm.onfocus},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('div',{staticClass:\"searchResContainer\"},[_c('keep-alive',[(_vm.hasFocus)?_c('search-results',{attrs:{\"searchQuery\":_vm.searchQuery,\"searching\":_vm.searching}}):_vm._e()],1)],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"searchbox\"},[(_vm.searchQuery.term.length >= 3)?[_c('b-row',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('b-col',[_vm._v(\"Showing \"+_vm._s(((_vm.searchQuery.results.length) + \" result\" + (_vm.searchQuery.results.length === 1 ? '' : 's')))+\" for \"),_c('b',[_vm._v(_vm._s(_vm.searchQuery.term))]),_vm._v(\" (query took \"+_vm._s(_vm.searchQuery.time)+\"ms)\")])],1),_c('result-list',{attrs:{\"results\":_vm.searchQuery.results}})]:_c('b-row',[_vm._v(\"\\n    Type at least 3 characters to search.\\n  \")]),(_vm.searching)?_c('div',{staticClass:\"searchBlur\"}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.results.length)?_c('div',[_vm._l((_vm.results),function(ref,i){\nvar result = ref.result;\nreturn [_c('result-entry',{key:result.id,attrs:{\"result\":result}}),(i < _vm.results.length-1)?_c('hr',{key:result.id+'hr'}):_vm._e()]})],2):_c('div',[_vm._v(\"\\n  NO RESULTS TO SHOW!\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"resultEntry\",on:{\"click\":_vm.clicked}},[_c('b-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\"}},[_c('result-img',{staticStyle:{\"width\":\"100%\"},attrs:{\"result\":_vm.result}})],1),_c('b-col',{attrs:{\"cols\":\"9\",\"sm\":\"10\"}},[(_vm.result.premiered)?[_c('b-badge',[_vm._v(_vm._s(_vm.result.premiered.substring(0,4)))]),_vm._v(\" \")]:_vm._e(),(_vm.result.type)?[_c('b-badge',[_vm._v(_vm._s(_vm.result.type))]),_vm._v(\" \")]:_vm._e(),(_vm.result.status)?[_c('b-badge',{attrs:{\"variant\":_vm.statusVariant}},[_vm._v(_vm._s(_vm.result.status))]),_vm._v(\" \")]:_vm._e(),_c('h5',[_vm._v(_vm._s(_vm.result.name)+\" \"),(_vm.result.genres)?[_vm._l((_vm.result.genres),function(genre){return [_c('b-badge',{key:_vm.result.id + genre},[_vm._v(_vm._s(genre))]),_vm._v(\" \")]})]:_vm._e()],2),_c('br'),_c('span',[_vm._v(_vm._s(_vm.summaryText))])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{attrs:{\"src\":_vm.src,\"alt\":_vm.result.name}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <img :src=\"src\" :alt=\"result.name\"  />\n</template>\n\n<script>\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      src: \"/static/img/logo_transparent.png\",\n    };\n  },\n  props: {\n    result: Object,\n  },\n  methods: {\n    loadImage(result) {\n      result = result || this.result;\n      if(!result.thumbUrl) {\n        this.src = \"/static/img/GitHub-Mark.png\";\n        return;\n      }\n      if(result.thumb) {\n        this.src = URL.createObjectURL(result.thumb);\n      } else {\n        fetch(result.thumbUrl).then(res => {\n          res.blob().then(blob=>{\n            this.src = URL.createObjectURL(blob);\n            result.thumb = blob;\n            result.save();\n          });\n        });\n      }\n    }\n  },\n  mounted () {\n    this.loadImage();\n  },\n  watch: {\n    result (newShow) {\n      this.loadImage(newShow);\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultImg.vue?vue&type=template&id=273c6081&\"\nimport script from \"./ResultImg.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export class SearchCancelledError extends Error {\n  constructor() {\n    super('The search was cancelled.');\n    this.name = this.constructor.name;\n  }\n}\n\nexport class NotFoundError extends Error {\n  constructor() {\n    super('The resource was not found.');\n    this.name = this.constructor.name;\n  }\n}\n\nexport function sleep(ms) {\n  return new Promise((res)=>setTimeout(res,ms));\n}\n\nexport function getCurTime() {\n  return (new Date).getTime();\n}\n\nexport function getAllWords(text) {\n  /// <param name=\"text\" type=\"String\"></param>\n  const wordSet = new Set();\n  text.toLowerCase().split(' ').forEach(w=>w&&wordSet.add(w));\n  return [...wordSet];\n}\n\nexport async function asyncMap(arr, func, entriesPerStep, cancelObj) {\n  entriesPerStep = entriesPerStep || 20;\n  const newArr = [];\n  for(let i = 0; i < arr.length; i++) {\n    if(i !== 0 && i % entriesPerStep === 0) {\n      await sleep(1);\n      if(cancelObj.isCancelled) throw new SearchCancelledError();\n    }\n    newArr.push(func(arr[i], i, arr));\n  }\n  return newArr;\n}\n\nexport function convertHtmlToText(inputText) {\n  let returnText = \"\" + inputText;\n\n  //-- remove BR tags and replace them with line break\n  returnText=returnText.replace(/<br>/gi, \"\\n\");\n  returnText=returnText.replace(/<br\\s\\/>/gi, \"\\n\");\n  returnText=returnText.replace(/<br\\/>/gi, \"\\n\");\n\n  //-- remove P and A tags but preserve what's inside of them\n  returnText=returnText.replace(/<p.*?>/gi, \"\\n\");\n  returnText=returnText.replace(/<a.*href=\"(.*?)\".*>(.*?)<\\/a>/gi, \" $2 ($1)\");\n\n  //-- remove all inside SCRIPT and STYLE tags\n  returnText=returnText.replace(/<script.*>[\\w\\W]{1,}(.*?)[\\w\\W]{1,}<\\/script>/gi, \"\");\n  returnText=returnText.replace(/<style.*>[\\w\\W]{1,}(.*?)[\\w\\W]{1,}<\\/style>/gi, \"\");\n  //-- remove all else\n  returnText=returnText.replace(/<(?:.|\\s)*?>/g, \"\");\n\n  //-- get rid of more than 2 multiple line breaks:\n  returnText=returnText.replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2,}/gim, \"\\n\\n\");\n\n  //-- get rid of more than 2 spaces:\n  returnText = returnText.replace(/ +(?= )/g,'');\n\n  //-- get rid of html-encoded characters:\n  returnText=returnText.replace(/&nbsp;/gi,\" \");\n  returnText=returnText.replace(/&amp;/gi,\"&\");\n  returnText=returnText.replace(/&quot;/gi,'\"');\n  returnText=returnText.replace(/&lt;/gi,'<');\n  returnText=returnText.replace(/&gt;/gi,'>');\n  //-- return\n  return returnText;\n}","import Vue from 'vue';\nexport const EventBus = new Vue();","<template>\n  <b-row @click=\"clicked\" class=\"resultEntry\">\n    <b-col cols=\"3\" sm=\"2\">\n      <result-img style=\"width: 100%;\" :result=\"result\" />\n    </b-col>\n    <b-col cols=\"9\" sm=\"10\">\n      <template v-if=\"result.premiered\"><b-badge>{{result.premiered.substring(0,4)}}</b-badge>&nbsp;</template>\n      <template v-if=\"result.type\"><b-badge>{{result.type}}</b-badge>&nbsp;</template>\n      <template v-if=\"result.status\" ><b-badge :variant=\"statusVariant\">{{result.status}}</b-badge>&nbsp;</template>\n      <h5>{{result.name}} <template v-if=\"result.genres\"><template v-for=\"genre in result.genres\"><b-badge :key=\"result.id + genre\">{{genre}}</b-badge>&nbsp;</template></template></h5><br/>\n      <span>{{summaryText}}</span>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\nimport ResultImg from './ResultImg';\nimport { convertHtmlToText } from '../utils';\nimport { EventBus } from '../event-bus';\n\nconst SUMMARY_LENGTH = 350;\nexport default {\n  name: 'app',\n  data() {\n    return {\n    };\n  },\n  components: {\n    'result-img': ResultImg,\n  },\n  props: {\n    result: Object,\n  },\n  computed: {\n    summaryText () {\n      const text = convertHtmlToText(this.result.summary);\n      if(text.length < SUMMARY_LENGTH) return text;\n      return text.substring(0, SUMMARY_LENGTH-3)+\"...\";\n    },\n    statusVariant () {\n      switch(this.result.status.toLowerCase()) {\n        case 'running':\n          return 'success';\n        case 'ended':\n          return 'danger';\n        case 'in development':\n          return 'warning';\n        default:\n          return null;\n      }\n    }\n  },\n  methods: {\n    clicked () {\n      EventBus.$emit('closeSearch');\n      this.$router.push({ name: 'show', params: { id: this.result.id } })\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultEntry.vue?vue&type=template&id=50ba90f7&\"\nimport script from \"./ResultEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultEntry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"results.length\">\n    <template v-for=\"({ result }, i ) in results\">\n    <result-entry :result=\"result\" :key=\"result.id\" ></result-entry>\n    <hr v-if=\"i < results.length-1\" :key=\"result.id+'hr'\" />\n    </template>\n  </div>\n  <div v-else>\n    NO RESULTS TO SHOW!\n  </div>\n</template>\n\n<script>\nimport ResultEntry from './ResultEntry';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      filterOpen: false,\n    };\n  },\n  components: {\n    'result-entry': ResultEntry,\n  },\n  props: {\n    results: Array,\n  },\n  computed: {\n    sanitizedSummary: {\n      get () {\n        return sanitizeHtml(this.result.summary);\n      }\n    }\n  },\n  methods: {\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultList.vue?vue&type=template&id=08229d25&\"\nimport script from \"./ResultList.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container class=\"searchbox\">\n    <template v-if=\"searchQuery.term.length >= 3\">\n      <b-row style=\"margin-bottom: 5px;\">\n        <b-col>Showing {{`${searchQuery.results.length} result${searchQuery.results.length === 1 ? '' : 's'}`}} for <b>{{searchQuery.term}}</b> (query took {{searchQuery.time}}ms)</b-col>\n      </b-row>\n      <result-list :results=\"searchQuery.results\" />\n    </template>\n    <b-row v-else>\n      Type at least 3 characters to search.\n    </b-row>\n    <div v-if=\"searching\" class=\"searchBlur\"></div>\n  </b-container>\n</template>\n\n<script>\nimport ResultList from './ResultList'\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      filterOpen: false,\n    };\n  },\n  components: {\n    'result-list': ResultList,\n  },\n  props: {\n    searchQuery: Object,\n    searching: Boolean,\n  },\n  methods: {\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResults.vue?vue&type=template&id=7b6fd281&\"\nimport script from \"./SearchResults.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\nimport {sleep} from './utils';\n\nconst BACKOFF_BASE = 2000;\nconst axiosInstance = axios.create({\n  baseURL: 'https://api.tvmaze.com/',\n  timeout: 5000,\n});\n\n// Have a request queue to be able to comply with rate limiting\n// and pause the queue while we wait for the rate limiting to stop\nconst requestQueue = [];\nlet requestQueueRunning = false;\n\nclass TVMazeAPI {\n  constructor () {\n\n  }\n\n  async doRequest(config) {\n    let attempt = 0;\n    while(true) {\n      try {\n        return await axiosInstance.request(config);\n      } catch (err) {\n        if(!err.isAxiosError) throw err;\n        if(!err.response) throw err;\n        if(err.response.status !== 429) throw err;\n\n        // If we get rate limited, retry after longer and longer backoff times. At a max of 10 times the base backoff.\n        const backoff = Math.min(BACKOFF_BASE * 10, Math.round(BACKOFF_BASE * Math.pow(1.5, attempt)));\n        attempt++;\n        if(this.maxRetries && attempt >= this.maxRetries) throw err;\n        console.log(`We got ratelimited, waiting ${backoff}ms. We have tried ${attempt} times.`); // eslint-disable-line\n        await sleep(backoff);\n      }\n    }    \n  }\n  \n  async runQueue () {\n    requestQueueRunning = true;\n    if(!requestQueue.length) {\n      requestQueueRunning = false;\n      return;\n    }\n    const {config, resolve, reject} = requestQueue.pop();\n    this.doRequest(config).then(resolve).catch(reject).finally(()=>this.runQueue());\n  }\n\n  request (config) {\n    // Since we have a queue, there are times we want to prioritize requests\n    // Such as requests based on user actions, where the latest request tends\n    // to be the most important one for the user.\n    // Put those at front of the queue\n\n    // TODO: implement cancelling of queued request\n    let priority = false;\n    if(config.hasOwnProperty('priority')) {\n      priority = config.priority;\n      delete config.priority;\n    }\n    return new Promise((resolve, reject) => {\n      requestQueue[priority ? 'push' : 'unshift']({\n        config,\n        resolve,\n        reject\n      });\n      if(!requestQueueRunning) this.runQueue();\n    });\n  }\n\n  get (url, config) {\n    return this.request({\n      url,\n      method: 'get',\n      ...(config || {})\n    });\n  }\n\n  delete (url, config) {\n    return this.request({\n      url,\n      method: 'delete',\n      ...(config || {})\n    });\n  }\n\n  head (url, config) {\n    return this.request({\n      url,\n      method: 'head',\n      ...(config || {})\n    });\n  }\n\n  options (url, config) {\n    return this.request({\n      url,\n      method: 'options',\n      ...(config || {})\n    });\n  }\n\n  post (url, data, config) {\n    return this.request({\n      url,\n      method: 'post',\n      data,\n      ...(config || {})\n    });\n  }\n\n  put (url, data, config) {\n    return this.request({\n      url,\n      method: 'put',\n      data,\n      ...(config || {})\n    });\n  }\n\n  patch (url, data, config) {\n    return this.request({\n      url,\n      method: 'patch',\n      data,\n      ...(config || {})\n    });\n  }\n\n  getUri (config) {\n    axiosInstance.getUri(config);\n  }\n\n  getShowsPage (page) {\n    page = page || 0;\n    if(typeof page !== 'number') {\n      throw new  TypeError(`Invalid type, expected number, got ${typeof page}`);\n    }\n    if(!Number.isInteger(page) || page < 0) {\n      throw new RangeError('Invalid value, expected positive integer');\n    }\n    return this.get(`shows?page=${page}`);\n  }\n\n  getEpisodes (showId) {\n    return this.get(`shows/${showId*1}/episodes`);\n  }\n}\nexport default new TVMazeAPI();\n","import Dexie from 'dexie';\nimport { getAllWords } from './utils';\n\nconst db = new Dexie(\"ShowsDatabase\");\ndb.version(7).stores({\n  shows: \"id,*nameWords\"\n});\n\ndb.shows.hook(\"creating\", function (primKey, obj, trans) {\n  if (typeof obj.name === 'string') obj.nameWords = getAllWords(obj.name);\n  if (typeof obj.thumbUrl === 'string' && obj.thumbUrl.startsWith('http:')) {\n    obj.thumbUrl = 'https' + obj.thumbUrl.substring(4);\n  }\n  if (typeof obj.imageUrl === 'string' && obj.imageUrl.startsWith('http:')) {\n    obj.imageUrl = 'https' + obj.imageUrl.substring(4);\n  }\n});\n\ndb.shows.hook(\"updating\", function (mods, primKey, obj, trans) {\n  const newMods = {}\n  if (mods.hasOwnProperty(\"name\")) {\n    // \"name\" property is being updated\n    if (typeof mods.name == 'string')\n      // \"name\" property was updated to another valid value. Re-index nameWords:\n      newMods.nameWords = getAllWords(mods.name);\n    else\n      // \"name\" property was deleted (typeof mods.name === 'undefined') or changed to an unknown type. Remove indexes:\n      newMods.nameWords = [];\n  }\n\n  if (mods.hasOwnProperty(\"thumbUrl\")) {\n    if (typeof obj.thumbUrl === 'string' && obj.thumbUrl.startsWith('http:')) {\n      newMods.thumbUrl = 'https' + obj.thumbUrl.substring(4);\n    }\n  }\n\n  if (mods.hasOwnProperty(\"imageUrl\")) {\n    if (typeof obj.imageUrl === 'string' && obj.imageUrl.startsWith('http:')) {\n      newMods.imageUrl = 'https' + obj.imageUrl.substring(4);\n    }\n  }\n\n  return newMods;\n});\n\nconst Show = db.shows.defineClass ({\n  id: Number,\n  name: String,\n  nameWords: [String],\n  updated: Number,\n  thumb: Blob,\n  thumbUrl: String,\n  imageUrl: String,\n  type: String,\n  summary: String,\n  genres: [String],\n  episodes: [{\n    name: String,\n    season: Number,\n    number: Number,\n    summary: String,\n    thumb: null,\n    thumbUrl: String,\n    imageUrl: String,\n  }],\n  episodesFetched: Date,\n});\n\nShow.prototype.save = function () {\n  return db.shows.put(this);\n}\n\nexport default db;\nexport { Show };\n","import Api from './tvmazeApi';\nimport db, { Show } from './database';\nimport { getCurTime, asyncMap, getAllWords, SearchCancelledError, NotFoundError } from './utils';\nimport stringSimilarity from 'string-similarity';\nimport Dexie from 'dexie';\nwindow.db = db;\nconst DAY_IN_MILLIS = 24*60*60*1000;\nconst PAGE_SIZE = 250;\n\nclass TVMazeController {\n  constructor() {\n    const timeStr = localStorage.getItem('lastUpdated') || \"0\";\n    const timeNum = Number.parseInt(timeStr);\n    this._lastUpdated = new Date(timeNum > 0 ? timeNum : 0);\n\n    if(getCurTime() - this.lastUpdated.getTime() > DAY_IN_MILLIS) {\n      this.refreshShows();\n    } else {\n      this.getNewShows();\n    }\n  }\n\n  get lastUpdated() {\n    return this._lastUpdated;\n  }\n\n  set lastUpdated(val) {\n    if(!(val instanceof Date)) {\n      throw new TypeError('lastUpdated needs to be a Date');\n    }\n    localStorage.setItem('lastUpdated', val.getTime()+'');\n    this._lastUpdated = val;\n  }\n\n  searchTypingFirstWord(word) {\n    return db.shows.where(\"nameWords\").startsWithIgnoreCase(word).distinct().toArray();\n  }\n\n  searchPromises(promiseList, cancelObj) {\n    return db.transaction('r', 'shows', async ()=>{\n      const allIds = await Promise.all(promiseList);\n      if(cancelObj && cancelObj.isCancelled) throw new SearchCancelledError();\n      \n      if(!allIds.length) return [];\n\n      const ids = allIds.reduce((wArr, cArr) => {\n        const res = [];\n        for (let i = 0; i < wArr.length; i++) {\n          if(cArr.includes(wArr[i])) res.push(wArr[i]);\n        }\n        return res;\n      });\n      const results = await db.shows.where(':id').anyOf(ids).toArray();\n      if(cancelObj && cancelObj.isCancelled) throw new SearchCancelledError();\n      return results;\n    });    \n  }\n\n  searchLastCharSpace(typedTermArr, cancelObj) {\n    return db.transaction('r', 'shows', ()=>{\n      return this.searchPromises(typedTermArr.map(term=>db.shows.where(\"nameWords\").equalsIgnoreCase(term).distinct().primaryKeys()));\n    });\n  }\n\n  searchTypingMultipleWords(lastWord, typedTermArr, cancelObj) {\n    return db.transaction('r', 'shows', ()=>{\n      return this.searchPromises([\n        ...typedTermArr.map(term=>db.shows.where(\"nameWords\").equalsIgnoreCase(term).distinct().primaryKeys()),\n        db.shows.where(\"nameWords\").startsWithIgnoreCase(lastWord).distinct().primaryKeys()\n      ], cancelObj);\n    });\n  }\n\n  async search(term, cancelCallback) {\n    const cancelObj = { isCancelled: false };\n    if(typeof cancelCallback === 'function') {\n      cancelCallback(()=>{\n        cancelObj.isCancelled = true;\n      });\n    }\n    const termArr = term.split(' ');\n    const lastWord = termArr.pop();\n    const typedTermArr = getAllWords(termArr.join(' '));\n    let results;\n    if(lastWord && !typedTermArr.length) results = await this.searchTypingFirstWord(lastWord, cancelObj);\n    else if(!lastWord && typedTermArr.length) results = await this.searchLastCharSpace(typedTermArr, cancelObj);\n    else if(lastWord && typedTermArr.length) results = await this.searchTypingMultipleWords(lastWord, typedTermArr, cancelObj);\n    else return [];\n\n    // Sort the found results based on string similarity with the name\n    const termLower = term.toLowerCase();\n    const result = (await asyncMap(results, e=>({result: e, rating: stringSimilarity.compareTwoStrings(e.name.toLowerCase(), termLower)}),cancelObj)).sort((a,b) => b.rating-a.rating);\n    if(cancelObj.isCancelled) throw new SearchCancelledError();\n    return result;\n  }\n\n  parsePage(pageData, pageNum) {\n    return db.transaction('rw', db.shows, async ()=>{\n      const lowestId = pageNum * PAGE_SIZE;\n      const highestId = (pageNum + 1) * PAGE_SIZE;\n      console.log(lowestId, highestId)\n      const cachedEntries = db.shows.where(':id').between(lowestId, highestId);\n      const cachedKeys = await cachedEntries.primaryKeys();\n      db.shows.bulkDelete(cachedKeys.filter(id=>!pageData.find(e2=>id === e2.id)));\n      for(let i = 0; i < pageData.length; i++) {\n        const tvm = pageData[i];\n        const cachedShow = (await db.shows.get(tvm.id)) || new Show();\n        if(cachedShow.updated === tvm.updated) continue;\n        cachedShow.id = tvm.id;\n        cachedShow.name = tvm.name;\n        cachedShow.updated = tvm.updated;\n        cachedShow.premiered = tvm.premiered;\n        cachedShow.imageUrl = tvm.image && tvm.image.original;\n        cachedShow.type = tvm.type;\n        cachedShow.status = tvm.status;\n        cachedShow.summary = tvm.summary;\n        cachedShow.genres = tvm.genres;\n\n        if(tvm.image && tvm.image.medium && cachedShow.thumbUrl !== tvm.image.medium) {\n          cachedShow.thumbUrl = tvm.image.medium;\n          cachedShow.thumb = null;\n        }\n\n        await cachedShow.save();\n      }\n    });\n  }\n  \n  async refreshPage(page) {\n    try {\n      await this.parsePage((await Api.getShowsPage(page)).data, page);\n    } catch (err) {\n      if(!err.isAxiosError) throw err;\n      if(!err.response) throw err;\n\n      // If we 404, we have gone through all pages and should\n      // gracefully return that we've reached the last page.\n      if(err.response.status === 404) return false;\n      \n      throw err;\n    }\n\n    // If we've gotten here, no errors got thrown, and we also\n    // didn't detect the last page having been reached, so \n    // return true to indicate that there might be more\n    // pages\n    return true;\n  }\n\n  async refreshFromId(lastId) {\n    lastId = lastId || 0;\n    let page = Math.floor(lastId/PAGE_SIZE);\n    while(await this.refreshPage(page)) {\n      page++;\n    }\n  }\n\n  async refreshShows() {\n    await this.refreshFromId();\n    this.lastUpdated = new Date;\n  }\n\n  async getNewShows() {\n    const lastId = (await db.shows.orderBy(':id').last()).id;\n    await this.refreshFromId(lastId);\n  }\n\n  getShow(id) {\n    return db.transaction('rw', 'shows', async ()=>{\n      const show = await db.shows.get(id);\n      if(!show) throw new NotFoundError();\n      if(navigator.onLine === false || show.episodesFetched && getCurTime() - show.episodesFetched.getTime() < DAY_IN_MILLIS)\n        return show;\n      const episodes = (await Dexie.waitFor(Api.getEpisodes(id))).data.map(e=>({\n        name: e.name,\n        season: e.season,\n        number: e.number,\n        summary: e.summary,\n        thumb: null,\n        thumbUrl: e.image && e.image.medium,\n        imageUrl: e.image && e.image.original,\n      }));\n      show.episodes = episodes;\n      show.episodesFetched = new Date();\n      await show.save();\n      return show;\n    });\n  }\n}\n\nexport default new TVMazeController();","<template>\n  <b-row>\n    <b-form-input class=\"searchForm\" autocomplete=\"off\" v-model=\"searchTerm\" @input=\"debounceInput\" @focus=\"onfocus\" placeholder=\"Search for series\"></b-form-input>\n    <div class=\"searchResContainer\">\n      <keep-alive>\n        <search-results v-if=\"hasFocus\" :searchQuery=\"searchQuery\" :searching=\"searching\"></search-results>\n      </keep-alive>\n    </div>\n    <router-view></router-view>\n  </b-row>\n</template>\n\n<script>\nimport SearchResults from './SearchResults.vue';\nimport tvmc from '../tvmazeController';\nimport debounce from 'debounce';\nimport { getCurTime, SearchCancelledError } from '../utils';\nimport { EventBus } from '../event-bus';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      hasFocus: false,\n      searchQuery: {term: '', results: [], time: 0},\n      searching: false,\n      searchTerm: '',\n      cancelFunc: null,\n      busHandler: null,\n    };\n  },\n  components: {\n    'search-results': SearchResults,\n  },\n  methods: {\n    onCloseSeacrh() {\n      this.hasFocus = false;\n    },\n    onfocus() {\n      this.hasFocus = true;\n    },\n    onPageClick(event) {\n      if(event.target !== this.$el && !this.$el.contains(event.target)) {\n        this.hasFocus = false;\n      }\n    },\n    debounceInput: debounce(function(text) {\n      this.doSearch(text);\n    }, 100),\n    doSearch (text) {\n      if(text[text.length-1] === ' ') {\n        text = text.trim() + ' ';\n      } else {\n        text = text.trim();\n      }\n      if(this.cancelSearch) {\n        this.cancelSearch();\n        this.cancelSearch = null;\n      }\n      if(text.length < 3) {\n        this.searchQuery.term = text;\n        this.searchQuery.results = [];\n        this.searchQuery.time = 0;\n        return;\n      }\n      const time = getCurTime();\n      this.searching = true;\n      tvmc.search(text, (cancelFunc)=>this.cancelSearch=cancelFunc).then(e=>{\n        this.cancelSearch = null;\n        this.searching = false;\n        this.searchQuery.term = text;\n        this.searchQuery.results = e;\n        this.searchQuery.time = getCurTime() - time;\n      }).catch(err => {\n        // If we cancelled the search... just don't do anything.\n        // Otherwise rethrow the error!\n        if(!(err instanceof SearchCancelledError)) {\n          this.searching = false;\n          throw err;\n        }\n      });\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.onPageClick);\n\n    this.busHandler = () => this.onCloseSeacrh();\n    EventBus.$on('closeSearch', this.busHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('click', this.onPageClick);\n\n    EventBus.$off('closeSearch', this.busHandler);\n    this.busHandler = null;\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=64834cce&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" HI \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AboutUs.vue?vue&type=template&id=66d60e6c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  404 not found. How did this happen?\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Missing.vue?vue&type=template&id=cba201f6&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  Search above and click on a show to view details.\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./NoShow.vue?vue&type=template&id=aa619552&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('b-container',{staticStyle:{\"margin-top\":\"1em\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\"}},[_c('result-img',{staticStyle:{\"width\":\"100%\"},attrs:{\"result\":_vm.show}})],1),_c('b-col',{attrs:{\"cols\":\"9\",\"sm\":\"10\"}},[(_vm.show.premiered)?[_c('b-badge',[_vm._v(_vm._s(_vm.show.premiered.substring(0,4)))]),_vm._v(\" \")]:_vm._e(),(_vm.show.type)?[_c('b-badge',[_vm._v(_vm._s(_vm.show.type))]),_vm._v(\" \")]:_vm._e(),(_vm.show.status)?[_c('b-badge',{attrs:{\"variant\":_vm.statusVariant}},[_vm._v(_vm._s(_vm.show.status))]),_vm._v(\" \")]:_vm._e(),_c('h4',[_vm._v(_vm._s(_vm.show.name)+\" \"),(_vm.show.genres)?[_vm._l((_vm.show.genres),function(genre){return [_c('b-badge',{key:_vm.show.id + genre},[_vm._v(_vm._s(genre))]),_vm._v(\" \")]})]:_vm._e()],2),_c('br'),_c('span',[_vm._v(_vm._s(_vm.summaryText))])],2)],1),_c('hr'),_vm._l((_vm.seasons),function(season,i){return [(season)?_c('b-row',{key:((_vm.show.id) + \"s\" + i)},[_c('b-col',[_c('h5',[_vm._v(\"Season \"+_vm._s(i + 1))])])],1):_vm._e(),(season)?_c('div',{key:((_vm.show.id) + \"s\" + i + \"list\")},[_c('b-list-group',_vm._l((season),function(episode){return _c('b-list-group-item',{key:((_vm.show.id) + \"s\" + i + \"e\" + (episode.number)),attrs:{\"button\":\"\"}},[_vm._v(\"S\"+_vm._s(String(episode.season).padStart(2,'0'))+\"E\"+_vm._s(String(episode.number).padStart(2,'0'))+\": \"+_vm._s(episode.name))])}),1)],1):_vm._e(),(season && i < _vm.seasons.length - 1)?_c('hr',{key:((_vm.show.id) + \"s\" + i + \"hr\")}):_vm._e()]})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container v-if=\"show\" style=\"margin-top: 1em;\">\n    <b-row>\n      <b-col cols=\"3\" sm=\"2\">\n        <result-img style=\"width: 100%;\" :result=\"show\" />\n      </b-col>\n      <b-col cols=\"9\" sm=\"10\">\n        <template v-if=\"show.premiered\"><b-badge>{{show.premiered.substring(0,4)}}</b-badge>&nbsp;</template>\n        <template v-if=\"show.type\"><b-badge>{{show.type}}</b-badge>&nbsp;</template>\n        <template v-if=\"show.status\" ><b-badge :variant=\"statusVariant\">{{show.status}}</b-badge>&nbsp;</template>\n        <h4>{{show.name}} <template v-if=\"show.genres\"><template v-for=\"genre in show.genres\"><b-badge :key=\"show.id + genre\">{{genre}}</b-badge>&nbsp;</template></template></h4><br/>\n        <span>{{summaryText}}</span>\n      </b-col>\n    </b-row>\n    <hr/>\n    <template v-for=\"(season, i) in seasons\">\n      <b-row v-if=\"season\" :key=\"`${show.id}s${i}`\">\n        <b-col><h5>Season {{i + 1}}</h5></b-col>\n      </b-row>\n      <div v-if=\"season\" :key=\"`${show.id}s${i}list`\">\n        \n        <b-list-group>\n          <b-list-group-item button v-for=\"episode in season\" :key=\"`${show.id}s${i}e${episode.number}`\">S{{String(episode.season).padStart(2,'0')}}E{{String(episode.number).padStart(2,'0')}}: {{episode.name}}</b-list-group-item>\n        </b-list-group>\n      </div>\n      <hr v-if=\"season && i < seasons.length - 1\" :key=\"`${show.id}s${i}hr`\" />\n    </template>\n  </b-container>\n</template>\n\n<script>\nimport { convertHtmlToText } from '../utils';\nimport { EventBus } from '../event-bus';\nimport tvmc from '../tvmazeController';\nimport ResultImg from './ResultImg';\n\nconst SUMMARY_LENGTH = 350;\nexport default {\n  name: 'app',\n  data() {\n    return {\n      show: null\n    };\n  },\n  components: {\n    'result-img': ResultImg,\n  },\n  props: {\n    id: Number\n  },\n  computed: {\n    summaryText () {\n      const text = convertHtmlToText(this.show.summary);\n      return text;\n    },\n    statusVariant () {\n      switch(this.show.status.toLowerCase()) {\n        case 'running':\n          return 'success';\n        case 'ended':\n          return 'danger';\n        case 'in development':\n          return 'warning';\n        default:\n          return null;\n      }\n    },\n    seasons() {\n      if(!this.show.episodes) return [];\n      const seasonsArr = [];\n      this.show.episodes.forEach(e => {\n        const seasonIndex = e.season - 1;\n        if(!Array.isArray(seasonsArr[seasonIndex])) seasonsArr[seasonIndex] = [];\n        seasonsArr[seasonIndex].push(e);\n      });\n      seasonsArr.forEach(e=>e.sort((a,b)=>a.number - b.number));\n      return seasonsArr;\n    }\n  },\n  mounted() {\n    this.fetchShow(this.id);\n  },\n  methods: {\n    async fetchShow(id) {\n      console.log(`Fetching show: ${id} (${typeof id})`);\n      try {\n        this.show = await tvmc.getShow(id);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  },\n  watch: {\n    id (newId, oldId) {\n      if(oldId === newId) return;\n      this.fetchShow(newId);\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Show.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=43af82e7&\"\nimport script from \"./Show.vue?vue&type=script&lang=js&\"\nexport * from \"./Show.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router';\nimport Search from './components/Search';\nimport AboutUs from './components/AboutUs';\nimport Missing from './components/Missing';\nimport NoShow from './components/NoShow';\nimport Show from './components/Show';\n\nconst routes = [\n  { path: '/about', component: AboutUs },\n  { path: '/', component: Search,\n    children: [\n      {\n        // UserProfile will be rendered inside User's <router-view>\n        // when /user/:id/profile is matched\n        name: 'show',\n        path: ':id',\n        component: Show,\n        props(route) {\n          const props = { ...route.params }\n          props.id = +props.id\n          return props\n        },\n      },\n      {\n        // UserPosts will be rendered inside User's <router-view>\n        // when /user/:id/posts is matched\n        path: '/',\n        component: NoShow\n      }\n    ]\n  },\n  { path: '*', component: Missing },\n];\n\nexport default new VueRouter({routes});","import * as OfflinePluginRuntime from 'offline-plugin/runtime';\n//OfflinePluginRuntime.install();\n\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport BootstrapVue from 'bootstrap-vue';\nimport App from './App.vue';\nimport './scss/custom.scss';\nimport router from './router';\nimport tvmazeController from './tvmazeController';\nimport db from './database';\nimport Dexie from 'dexie';\n\nwindow. tvmc = tvmazeController;\nVue.use(VueRouter);\nVue.use(BootstrapVue);\nVue.config.productionTip = false;\n\ndb.open().then(()=>{\n  console.log('db opened');\n  new Vue({\n    router,\n    render: h => h(App),\n    async created () {\n    }\n  }).$mount('#app');\n}).catch(Dexie.UpgradeError,err=>{\n  localStorage.removeItem('lastUpdated');\n  window.indexedDB.databases().then((r) => {\n    for (var i = 0; i < r.length; i++) window.indexedDB.deleteDatabase(r[i].name);\n  }).then(() => {\n      alert('New database version, refreshing page.');\n      location.reload();\n  });\n});"],"sourceRoot":""}