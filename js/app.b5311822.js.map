{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?d492","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/components/Search.vue?6f6d","webpack:///./src/components/SearchResults.vue?5e9c","webpack:///./src/components/ResultList.vue?f2ac","webpack:///./src/components/ResultEntry.vue?dfe5","webpack:///./src/components/ResultImg.vue?8cf0","webpack:///src/components/ResultImg.vue","webpack:///./src/components/ResultImg.vue?13c5","webpack:///./src/components/ResultImg.vue","webpack:///./src/utils.js","webpack:///./src/event-bus.js","webpack:///src/components/ResultEntry.vue","webpack:///./src/components/ResultEntry.vue?f7e2","webpack:///./src/components/ResultEntry.vue","webpack:///src/components/ResultList.vue","webpack:///./src/components/ResultList.vue?06ae","webpack:///./src/components/ResultList.vue","webpack:///src/components/SearchResults.vue","webpack:///./src/components/SearchResults.vue?0301","webpack:///./src/components/SearchResults.vue","webpack:///./src/tvmazeApi.js","webpack:///./src/database.js","webpack:///./src/tvmazeController.js","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?f472","webpack:///./src/components/Search.vue","webpack:///./src/components/AboutUs.vue?423f","webpack:///./src/components/AboutUs.vue","webpack:///./src/components/Missing.vue?cda7","webpack:///./src/components/Missing.vue","webpack:///./src/components/NoShow.vue?a897","webpack:///./src/components/NoShow.vue","webpack:///./src/components/Show.vue?3480","webpack:///./src/components/Show.vue","webpack:///./src/router.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Appvue_type_template_id_7be5b996_render","_vm","this","_h","$createElement","_c","_self","attrs","id","toggleable","to","staticStyle","height","src","alt","target","is-nav","_v","staticClass","href","staticRenderFns","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","component","componentNormalizer","App","Searchvue_type_template_id_64834cce_render","autocomplete","placeholder","on","input","debounceInput","focus","onfocus","model","callback","$$v","searchTerm","expression","searchQuery","searching","_e","Searchvue_type_template_id_64834cce_staticRenderFns","SearchResultsvue_type_template_id_7b6fd281_render","term","margin-bottom","_s","results","time","SearchResultsvue_type_template_id_7b6fd281_staticRenderFns","ResultListvue_type_template_id_08229d25_render","_l","ref","ResultListvue_type_template_id_08229d25_staticRenderFns","ResultEntryvue_type_template_id_50ba90f7_render","click","clicked","cols","sm","width","premiered","substring","type","variant","statusVariant","status","genre","summaryText","ResultEntryvue_type_template_id_50ba90f7_staticRenderFns","ResultImgvue_type_template_id_d3297296_render","ResultImgvue_type_template_id_d3297296_staticRenderFns","ResultImgvue_type_script_lang_js_","props","methods","mounted","_this","thumbUrl","thumb","URL","createObjectURL","fetch","then","res","blob","save","components_ResultImgvue_type_script_lang_js_","ResultImg_component","ResultImg","SearchCancelledError","_Error","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","wrapNativeSuper","Error","sleep","ms","Promise","setTimeout","getCurTime","Date","getTime","getAllWords","text","wordSet","Set","toLowerCase","split","forEach","w","add","toConsumableArray","asyncMap","_x","_x2","_x3","_x4","_asyncMap","arguments","_callee","arr","func","entriesPerStep","cancelObj","newArr","regeneratorRuntime","wrap","_context","prev","next","isCancelled","abrupt","stop","convertHtmlToText","inputText","returnText","replace","EventBus","Vue","SUMMARY_LENGTH","ResultEntryvue_type_script_lang_js_","components","result-img","computed","summary","$emit","$router","params","components_ResultEntryvue_type_script_lang_js_","ResultEntry_component","ResultEntry","ResultListvue_type_script_lang_js_","filterOpen","result-entry","Array","sanitizedSummary","sanitizeHtml","components_ResultListvue_type_script_lang_js_","ResultList_component","ResultList","SearchResultsvue_type_script_lang_js_","result-list","Boolean","components_SearchResultsvue_type_script_lang_js_","SearchResults_component","SearchResults","BACKOFF_BASE","axiosInstance","axios","baseURL","timeout","requestQueue","requestQueueRunning","TVMazeAPI","config","attempt","request","t0","isAxiosError","response","backoff","Math","min","round","pow","maxRetries","console","log","concat","pop","resolve","reject","doRequest","catch","finally","runQueue","_this2","priority","url","_objectSpread","method","getUri","page","TypeError","esm_typeof","Number","isInteger","RangeError","tvmazeApi","db","Dexie","version","stores","shows","hook","primKey","obj","trans","nameWords","startsWith","imageUrl","mods","newMods","Show","defineClass","String","updated","Blob","genres","put","DAY_IN_MILLIS","PAGE_SIZE","TVMazeController","timeStr","localStorage","getItem","timeNum","parseInt","_lastUpdated","lastUpdated","refreshShows","getNewShows","word","where","startsWithIgnoreCase","distinct","toArray","promiseList","transaction","asyncToGenerator","mark","allIds","ids","all","sent","reduce","wArr","cArr","includes","anyOf","typedTermArr","searchPromises","map","equalsIgnoreCase","primaryKeys","lastWord","cancelCallback","termArr","join","searchTypingFirstWord","searchLastCharSpace","searchTypingMultipleWords","termLower","e","rating","stringSimilarity","compareTwoStrings","a","b","sort","pageData","pageNum","_callee3","lowestId","highestId","cachedEntries","cachedKeys","tvm","cachedShow","_context3","between","bulkDelete","filter","find","e2","image","original","medium","Api","getShowsPage","parsePage","_context4","t3","lastId","floor","refreshPage","refreshFromId","orderBy","last","navigator","onLine","val","setItem","tvmazeController","Searchvue_type_script_lang_js_","hasFocus","cancelFunc","busHandler","search-results","onCloseSeacrh","onPageClick","event","$el","contains","debounce_default","doSearch","trim","cancelSearch","search","err","utils_SearchCancelledError","document","addEventListener","$on","beforeDestroy","removeEventListener","$off","components_Searchvue_type_script_lang_js_","Search_component","Search","AboutUsvue_type_template_id_66d60e6c_render","AboutUsvue_type_template_id_66d60e6c_staticRenderFns","script","AboutUs_component","AboutUs","Missingvue_type_template_id_cba201f6_render","Missingvue_type_template_id_cba201f6_staticRenderFns","Missing_script","Missing_component","Missing","NoShowvue_type_template_id_aa619552_render","NoShowvue_type_template_id_aa619552_staticRenderFns","NoShow_script","NoShow_component","NoShow","Showvue_type_template_id_0b5ccd04_render","Showvue_type_template_id_0b5ccd04_staticRenderFns","Show_script","Show_component","components_Show","routes","path","children","router","VueRouter","tvmc","use","BootstrapVue","productionTip","render","h","created","_created","$mount"],"mappings":"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","file":"js/app.b5311822.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('b-container',[_c('b-navbar',{attrs:{\"toggleable\":\"md\"}},[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_c('img',{staticStyle:{\"height\":\"100px\"},attrs:{\"src\":\"/static/img/logo_transparent.png\",\"alt\":\"Linn's TV Search\"}})]),_c('b-navbar-toggle',{attrs:{\"target\":\"mainNav\"}},[_c('img',{attrs:{\"src\":\"/static/img/hamburger_icon.svg\"}})]),_c('b-collapse',{attrs:{\"is-nav\":\"\",\"id\":\"mainNav\"}},[_c('b-navbar-nav',[_c('b-nav-item',{attrs:{\"to\":\"about\"}},[_vm._v(\"About Us\")]),_c('b-nav-item',{staticClass:\"nav-github-link\",attrs:{\"href\":\"https://github.com/SimplyLinn/tvmaze-api-frontend\"}},[_c('img',{staticClass:\"icon\",attrs:{\"src\":\"/static/img/GitHub-Mark.png\"}}),_vm._v(\" Github\")])],1)],1)],1),_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <b-container>\n      <b-navbar toggleable=\"md\">\n        <b-navbar-brand to=\"/\"><img src=\"/static/img/logo_transparent.png\" style=\"height: 100px;\" alt=\"Linn's TV Search\"/></b-navbar-brand>\n        <b-navbar-toggle target=\"mainNav\">\n          <img src=\"/static/img/hamburger_icon.svg\" />\n        </b-navbar-toggle>\n        <b-collapse is-nav id=\"mainNav\">\n          <b-navbar-nav>\n            <b-nav-item to=\"about\">About Us</b-nav-item>\n            <b-nav-item href=\"https://github.com/SimplyLinn/tvmaze-api-frontend\" class=\"nav-github-link\"><img class=\"icon\" src=\"/static/img/GitHub-Mark.png\"> Github</b-nav-item>\n          </b-navbar-nav>\n        </b-collapse>\n      </b-navbar>\n      <router-view>\n      </router-view>\n    </b-container>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'app'\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7be5b996&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',[_c('b-form-input',{staticClass:\"searchForm\",attrs:{\"autocomplete\":\"off\",\"placeholder\":\"Search for series\"},on:{\"input\":_vm.debounceInput,\"focus\":_vm.onfocus},model:{value:(_vm.searchTerm),callback:function ($$v) {_vm.searchTerm=$$v},expression:\"searchTerm\"}}),_c('div',{staticClass:\"searchResContainer\"},[_c('keep-alive',[(_vm.hasFocus)?_c('search-results',{attrs:{\"searchQuery\":_vm.searchQuery,\"searching\":_vm.searching}}):_vm._e()],1)],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"searchbox\"},[(_vm.searchQuery.term.length >= 3)?[_c('b-row',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('b-col',[_vm._v(\"Showing \"+_vm._s(((_vm.searchQuery.results.length) + \" result\" + (_vm.searchQuery.results.length === 1 ? '' : 's')))+\" for \"),_c('b',[_vm._v(_vm._s(_vm.searchQuery.term))]),_vm._v(\" (query took \"+_vm._s(_vm.searchQuery.time)+\"ms)\")])],1),_c('result-list',{attrs:{\"results\":_vm.searchQuery.results}})]:_c('b-row',[_vm._v(\"\\n    Type at least 3 characters to search.\\n  \")]),(_vm.searching)?_c('div',{staticClass:\"searchBlur\"}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.results.length)?_c('div',[_vm._l((_vm.results),function(ref,i){\nvar result = ref.result;\nreturn [_c('result-entry',{key:result.id,attrs:{\"result\":result}}),(i < _vm.results.length-1)?_c('hr',{key:result.id+'hr'}):_vm._e()]})],2):_c('div',[_vm._v(\"\\n  NO RESULTS TO SHOW!\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"resultEntry\",on:{\"click\":_vm.clicked}},[_c('b-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\"}},[_c('result-img',{staticStyle:{\"width\":\"100%\"},attrs:{\"result\":_vm.result}})],1),_c('b-col',{attrs:{\"cols\":\"9\",\"sm\":\"10\"}},[(_vm.result.premiered)?[_c('b-badge',[_vm._v(_vm._s(_vm.result.premiered.substring(0,4)))]),_vm._v(\" \")]:_vm._e(),(_vm.result.type)?[_c('b-badge',[_vm._v(_vm._s(_vm.result.type))]),_vm._v(\" \")]:_vm._e(),(_vm.result.status)?[_c('b-badge',{attrs:{\"variant\":_vm.statusVariant}},[_vm._v(_vm._s(_vm.result.status))]),_vm._v(\" \")]:_vm._e(),_c('h5',[_vm._v(_vm._s(_vm.result.name)+\" \"),(_vm.result.genres)?[_vm._l((_vm.result.genres),function(genre){return [_c('b-badge',{key:_vm.result.id + genre},[_vm._v(_vm._s(genre))]),_vm._v(\" \")]})]:_vm._e()],2),_c('br'),_c('span',[_vm._v(_vm._s(_vm.summaryText))])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{attrs:{\"src\":_vm.src,\"alt\":_vm.result.name}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <img :src=\"src\" :alt=\"result.name\"  />\n</template>\n\n<script>\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      src: \"/static/img/logo_transparent.png\",\n    };\n  },\n  props: {\n    result: Object,\n  },\n  methods: {\n  },\n  mounted () {\n    const result = this.result;\n    if(!result.thumbUrl) {\n      this.src = \"/static/img/GitHub-Mark.png\";\n      return;\n    }\n    if(result.thumb) {\n      this.src = URL.createObjectURL(result.thumb);\n    } else {\n      fetch(result.thumbUrl).then(res => {\n        res.blob().then(blob=>{\n          this.src = URL.createObjectURL(blob);\n          result.thumb = blob;\n          result.save();\n        });\n      });\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultImg.vue?vue&type=template&id=d3297296&\"\nimport script from \"./ResultImg.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export class SearchCancelledError extends Error {\n  constructor() {\n    super('The search was cancelled.');\n  }\n}\n\nexport function sleep(ms) {\n  return new Promise((res)=>setTimeout(res,ms));\n}\n\nexport function getCurTime() {\n  return (new Date).getTime();\n}\n\nexport function escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n}\n\nexport function getAllWords(text) {\n  /// <param name=\"text\" type=\"String\"></param>\n  const wordSet = new Set();\n  text.toLowerCase().split(' ').forEach(w=>w&&wordSet.add(w));\n  return [...wordSet];\n}\n\nexport async function asyncMap(arr, func, entriesPerStep, cancelObj) {\n  entriesPerStep = entriesPerStep || 20;\n  const newArr = [];\n  for(let i = 0; i < arr.length; i++) {\n    if(i !== 0 && i % entriesPerStep === 0) {\n      await sleep(1);\n      if(cancelObj.isCancelled) throw new SearchCancelledError();\n    }\n    newArr.push(func(arr[i], i, arr));\n  }\n  return newArr;\n}\n\nexport function convertHtmlToText(inputText) {\n  let returnText = \"\" + inputText;\n\n  //-- remove BR tags and replace them with line break\n  returnText=returnText.replace(/<br>/gi, \"\\n\");\n  returnText=returnText.replace(/<br\\s\\/>/gi, \"\\n\");\n  returnText=returnText.replace(/<br\\/>/gi, \"\\n\");\n\n  //-- remove P and A tags but preserve what's inside of them\n  returnText=returnText.replace(/<p.*?>/gi, \"\\n\");\n  returnText=returnText.replace(/<a.*href=\"(.*?)\".*>(.*?)<\\/a>/gi, \" $2 ($1)\");\n\n  //-- remove all inside SCRIPT and STYLE tags\n  returnText=returnText.replace(/<script.*>[\\w\\W]{1,}(.*?)[\\w\\W]{1,}<\\/script>/gi, \"\");\n  returnText=returnText.replace(/<style.*>[\\w\\W]{1,}(.*?)[\\w\\W]{1,}<\\/style>/gi, \"\");\n  //-- remove all else\n  returnText=returnText.replace(/<(?:.|\\s)*?>/g, \"\");\n\n  //-- get rid of more than 2 multiple line breaks:\n  returnText=returnText.replace(/(?:(?:\\r\\n|\\r|\\n)\\s*){2,}/gim, \"\\n\\n\");\n\n  //-- get rid of more than 2 spaces:\n  returnText = returnText.replace(/ +(?= )/g,'');\n\n  //-- get rid of html-encoded characters:\n  returnText=returnText.replace(/&nbsp;/gi,\" \");\n  returnText=returnText.replace(/&amp;/gi,\"&\");\n  returnText=returnText.replace(/&quot;/gi,'\"');\n  returnText=returnText.replace(/&lt;/gi,'<');\n  returnText=returnText.replace(/&gt;/gi,'>');\n  //-- return\n  return returnText;\n}","import Vue from 'vue';\nexport const EventBus = new Vue();","<template>\n  <b-row @click=\"clicked\" class=\"resultEntry\">\n    <b-col cols=\"3\" sm=\"2\">\n      <result-img style=\"width: 100%;\" :result=\"result\" />\n    </b-col>\n    <b-col cols=\"9\" sm=\"10\">\n      <template v-if=\"result.premiered\"><b-badge>{{result.premiered.substring(0,4)}}</b-badge>&nbsp;</template>\n      <template v-if=\"result.type\"><b-badge>{{result.type}}</b-badge>&nbsp;</template>\n      <template v-if=\"result.status\" ><b-badge :variant=\"statusVariant\">{{result.status}}</b-badge>&nbsp;</template>\n      <h5>{{result.name}} <template v-if=\"result.genres\"><template v-for=\"genre in result.genres\"><b-badge :key=\"result.id + genre\">{{genre}}</b-badge>&nbsp;</template></template></h5><br/>\n      <span>{{summaryText}}</span>\n    </b-col>\n  </b-row>\n</template>\n\n<script>\nimport ResultImg from './ResultImg';\nimport { convertHtmlToText } from '../utils';\nimport { EventBus } from '../event-bus';\n\nconst SUMMARY_LENGTH = 350;\nexport default {\n  name: 'app',\n  data() {\n    return {\n    };\n  },\n  components: {\n    'result-img': ResultImg,\n  },\n  props: {\n    result: Object,\n  },\n  computed: {\n    summaryText () {\n      const text = convertHtmlToText(this.result.summary);\n      if(text.length < SUMMARY_LENGTH) return text;\n      return text.substring(0, SUMMARY_LENGTH-3)+\"...\";\n    },\n    statusVariant () {\n      switch(this.result.status.toLowerCase()) {\n        case 'running':\n          return 'success';\n        case 'ended':\n          return 'danger';\n        case 'in development':\n          return 'warning';\n        default:\n          return null;\n      }\n    }\n  },\n  methods: {\n    clicked () {\n      EventBus.$emit('closeSearch');\n      this.$router.push({ name: 'show', params: { id: this.result.id } })\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultEntry.vue?vue&type=template&id=50ba90f7&\"\nimport script from \"./ResultEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultEntry.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"results.length\">\n    <template v-for=\"({ result }, i ) in results\">\n    <result-entry :result=\"result\" :key=\"result.id\" ></result-entry>\n    <hr v-if=\"i < results.length-1\" :key=\"result.id+'hr'\" />\n    </template>\n  </div>\n  <div v-else>\n    NO RESULTS TO SHOW!\n  </div>\n</template>\n\n<script>\nimport ResultEntry from './ResultEntry';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      filterOpen: false,\n    };\n  },\n  components: {\n    'result-entry': ResultEntry,\n  },\n  props: {\n    results: Array,\n  },\n  computed: {\n    sanitizedSummary: {\n      get () {\n        return sanitizeHtml(this.result.summary);\n      }\n    }\n  },\n  methods: {\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResultList.vue?vue&type=template&id=08229d25&\"\nimport script from \"./ResultList.vue?vue&type=script&lang=js&\"\nexport * from \"./ResultList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-container class=\"searchbox\">\n    <template v-if=\"searchQuery.term.length >= 3\">\n      <b-row style=\"margin-bottom: 5px;\">\n        <b-col>Showing {{`${searchQuery.results.length} result${searchQuery.results.length === 1 ? '' : 's'}`}} for <b>{{searchQuery.term}}</b> (query took {{searchQuery.time}}ms)</b-col>\n      </b-row>\n      <result-list :results=\"searchQuery.results\" />\n    </template>\n    <b-row v-else>\n      Type at least 3 characters to search.\n    </b-row>\n    <div v-if=\"searching\" class=\"searchBlur\"></div>\n  </b-container>\n</template>\n\n<script>\nimport ResultList from './ResultList'\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      filterOpen: false,\n    };\n  },\n  components: {\n    'result-list': ResultList,\n  },\n  props: {\n    searchQuery: Object,\n    searching: Boolean,\n  },\n  methods: {\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResults.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResults.vue?vue&type=template&id=7b6fd281&\"\nimport script from \"./SearchResults.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResults.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\nimport {sleep} from './utils';\n\nconst BACKOFF_BASE = 2000;\nconst axiosInstance = axios.create({\n  baseURL: 'https://api.tvmaze.com/',\n  timeout: 5000,\n});\n\n// Have a request queue to be able to comply with rate limiting\n// and pause the queue while we wait for the rate limiting to stop\nconst requestQueue = [];\nlet requestQueueRunning = false;\n\nclass TVMazeAPI {\n  constructor () {\n\n  }\n\n  async doRequest(config) {\n    let attempt = 0;\n    while(true) {\n      try {\n        return await axiosInstance.request(config);\n      } catch (err) {\n        if(!err.isAxiosError) throw err;\n        if(!err.response) throw err;\n        if(err.response.status !== 429) throw err;\n\n        // If we get rate limited, retry after longer and longer backoff times. At a max of 10 times the base backoff.\n        const backoff = Math.min(BACKOFF_BASE * 10, Math.round(BACKOFF_BASE * Math.pow(1.5, attempt)));\n        attempt++;\n        if(this.maxRetries && attempt >= this.maxRetries) throw err;\n        console.log(`We got ratelimited, waiting ${backoff}ms. We have tried ${attempt} times.`); // eslint-disable-line\n        await sleep(backoff);\n      }\n    }    \n  }\n  \n  async runQueue () {\n    requestQueueRunning = true;\n    if(!requestQueue.length) {\n      requestQueueRunning = false;\n      return;\n    }\n    const {config, resolve, reject} = requestQueue.pop();\n    this.doRequest(config).then(resolve).catch(reject).finally(()=>this.runQueue());\n  }\n\n  request (config) {\n    // Since we have a queue, there are times we want to prioritize requests\n    // Such as requests based on user actions, where the latest request tends\n    // to be the most important one for the user.\n    // Put those at front of the queue\n\n    // TODO: implement cancelling of queued request\n    let priority = false;\n    if(config.hasOwnProperty('priority')) {\n      priority = config.priority;\n      delete config.priority;\n    }\n    return new Promise((resolve, reject) => {\n      requestQueue[priority ? 'push' : 'unshift']({\n        config,\n        resolve,\n        reject\n      });\n      if(!requestQueueRunning) this.runQueue();\n    });\n  }\n\n  get (url, config) {\n    return this.request({\n      url,\n      method: 'get',\n      ...(config || {})\n    });\n  }\n\n  delete (url, config) {\n    return this.request({\n      url,\n      method: 'delete',\n      ...(config || {})\n    });\n  }\n\n  head (url, config) {\n    return this.request({\n      url,\n      method: 'head',\n      ...(config || {})\n    });\n  }\n\n  options (url, config) {\n    return this.request({\n      url,\n      method: 'options',\n      ...(config || {})\n    });\n  }\n\n  post (url, data, config) {\n    return this.request({\n      url,\n      method: 'post',\n      data,\n      ...(config || {})\n    });\n  }\n\n  put (url, data, config) {\n    return this.request({\n      url,\n      method: 'put',\n      data,\n      ...(config || {})\n    });\n  }\n\n  patch (url, data, config) {\n    return this.request({\n      url,\n      method: 'patch',\n      data,\n      ...(config || {})\n    });\n  }\n\n  getUri (config) {\n    axiosInstance.getUri(config);\n  }\n\n  async getShowsPage (page) {\n    page = page || 0;\n    if(typeof page !== 'number') {\n      throw new  TypeError(`Invalid type, expected number, got ${typeof page}`);\n    }\n    if(!Number.isInteger(page) || page < 0) {\n      throw new RangeError('Invalid value, expected positive integer');\n    }\n    return await this.get(`shows?page=${page}`);\n  }\n}\nexport default new TVMazeAPI();\n","import Dexie from 'dexie';\nimport { getAllWords } from './utils';\n\nconst db = new Dexie(\"ShowsDatabase\");\ndb.version(4).stores({\n  shows: \"id,name,*nameWords\",\n  //episodes: \"id,showId,\"\n});\n\ndb.shows.hook(\"creating\", function (primKey, obj, trans) {\n  if (typeof obj.name === 'string') obj.nameWords = getAllWords(obj.name);\n  if (typeof obj.thumbUrl === 'string' && obj.thumbUrl.startsWith('http:')) {\n    obj.thumbUrl = 'https' + obj.thumbUrl.substring(4);\n  }\n  if (typeof obj.imageUrl === 'string' && obj.imageUrl.startsWith('http:')) {\n    obj.imageUrl = 'https' + obj.imageUrl.substring(4);\n  }\n});\n\ndb.shows.hook(\"updating\", function (mods, primKey, obj, trans) {\n  const newMods = {}\n  if (mods.hasOwnProperty(\"name\")) {\n    // \"name\" property is being updated\n    if (typeof mods.name == 'string')\n      // \"name\" property was updated to another valid value. Re-index nameWords:\n      newMods.nameWords = getAllWords(mods.name);\n    else\n      // \"name\" property was deleted (typeof mods.name === 'undefined') or changed to an unknown type. Remove indexes:\n      newMods.nameWords = [];\n  }\n\n  if (mods.hasOwnProperty(\"thumbUrl\")) {\n    if (typeof obj.thumbUrl === 'string' && obj.thumbUrl.startsWith('http:')) {\n      newMods.thumbUrl = 'https' + obj.thumbUrl.substring(4);\n    }\n  }\n\n  if (mods.hasOwnProperty(\"imageUrl\")) {\n    if (typeof obj.imageUrl === 'string' && obj.imageUrl.startsWith('http:')) {\n      newMods.imageUrl = 'https' + obj.imageUrl.substring(4);\n    }\n  }\n\n  return newMods;\n});\n\nconst Show = db.shows.defineClass ({\n  id: Number,\n  name: String,\n  nameWords: [String],\n  updated: Number,\n  thumb: Blob,\n  thumbUrl: String,\n  imageUrl: String,\n  type: String,\n  summary: String,\n  genres: [String],\n});\n\nShow.prototype.save = function () {\n  return db.shows.put(this);\n}\n\nexport default db;\nexport { Show };\n","import Api from './tvmazeApi';\nimport db, { Show } from './database';\nimport { getCurTime, asyncMap, getAllWords, SearchCancelledError } from './utils';\nimport stringSimilarity from 'string-similarity';\n\nwindow.db = db;\nconst DAY_IN_MILLIS = 24*60*60*1000;\nconst PAGE_SIZE = 250;\n\nclass TVMazeController {\n  constructor() {\n    const timeStr = localStorage.getItem('lastUpdated') || \"0\";\n    const timeNum = Number.parseInt(timeStr);\n    this._lastUpdated = new Date(timeNum > 0 ? timeNum : 0);\n\n    if(getCurTime() - this.lastUpdated.getTime() > DAY_IN_MILLIS) {\n      this.refreshShows();\n    } else {\n      this.getNewShows();\n    }\n  }\n\n  get useLocal() {\n    // Use local DB if it's fresh enough, or you're offline.\n    return navigator.onLine === false || getCurTime() - this.lastUpdated.getTime() < DAY_IN_MILLIS * 3;\n  }\n\n  get lastUpdated() {\n    return this._lastUpdated;\n  }\n\n  set lastUpdated(val) {\n    if(!(val instanceof Date)) {\n      throw new TypeError('lastUpdated needs to be a Date');\n    }\n    localStorage.setItem('lastUpdated', val.getTime()+'');\n    this._lastUpdated = val;\n  }\n\n  searchTypingFirstWord(word) {\n    return db.shows.where(\"nameWords\").startsWithIgnoreCase(word).distinct().toArray();\n  }\n\n  searchPromises(promiseList, cancelObj) {\n    return db.transaction('r', 'shows', async ()=>{\n      const allIds = await Promise.all(promiseList);\n      if(cancelObj && cancelObj.isCancelled) throw new SearchCancelledError();\n      \n      if(!allIds.length) return [];\n\n      const ids = allIds.reduce((wArr, cArr) => {\n        const res = [];\n        for (let i = 0; i < wArr.length; i++) {\n          if(cArr.includes(wArr[i])) res.push(wArr[i]);\n        }\n        return res;\n      });\n      const results = await db.shows.where(':id').anyOf(ids).toArray();\n      if(cancelObj && cancelObj.isCancelled) throw new SearchCancelledError();\n      return results;\n    });    \n  }\n\n  searchLastCharSpace(typedTermArr, cancelObj) {\n    return db.transaction('r', 'shows', ()=>{\n      return this.searchPromises(typedTermArr.map(term=>db.shows.where(\"nameWords\").equalsIgnoreCase(term).distinct().primaryKeys()));\n    });\n  }\n\n  searchTypingMultipleWords(lastWord, typedTermArr, cancelObj) {\n    return db.transaction('r', 'shows', ()=>{\n      return this.searchPromises([\n        ...typedTermArr.map(term=>db.shows.where(\"nameWords\").equalsIgnoreCase(term).distinct().primaryKeys()),\n        db.shows.where(\"nameWords\").startsWithIgnoreCase(lastWord).distinct().primaryKeys()\n      ], cancelObj);\n    });\n  }\n\n  async search(term, cancelCallback) {\n    const cancelObj = { isCancelled: false };\n    if(typeof cancelCallback === 'function') {\n      cancelCallback(()=>{\n        cancelObj.isCancelled = true;\n      });\n    }\n    const termArr = term.split(' ');\n    const lastWord = termArr.pop();\n    const typedTermArr = getAllWords(termArr.join(' '));\n    let results;\n    if(lastWord && !typedTermArr.length) results = await this.searchTypingFirstWord(lastWord, cancelObj);\n    else if(!lastWord && typedTermArr.length) results = await this.searchLastCharSpace(typedTermArr, cancelObj);\n    else if(lastWord && typedTermArr.length) results = await this.searchTypingMultipleWords(lastWord, typedTermArr, cancelObj);\n    else return [];\n\n    // Sort the found results based on string similarity with the name\n    const termLower = term.toLowerCase();\n    const result = (await asyncMap(results, e=>({result: e, rating: stringSimilarity.compareTwoStrings(e.name.toLowerCase(), termLower)}),cancelObj)).sort((a,b) => b.rating-a.rating);\n    if(cancelObj.isCancelled) throw new SearchCancelledError();\n    return result;\n  }\n\n  parsePage(pageData, pageNum) {\n    return db.transaction('rw', db.shows, async ()=>{\n      const lowestId = pageNum * PAGE_SIZE;\n      const highestId = (pageNum + 1) * PAGE_SIZE;\n      console.log(lowestId, highestId)\n      const cachedEntries = db.shows.where(':id').between(lowestId, highestId);\n      const cachedKeys = await cachedEntries.primaryKeys();\n      db.shows.bulkDelete(cachedKeys.filter(id=>!pageData.find(e2=>id === e2.id)));\n      for(let i = 0; i < pageData.length; i++) {\n        const tvm = pageData[i];\n        const cachedShow = (await db.shows.get(tvm.id)) || new Show();\n        if(cachedShow.updated === tvm.updated) continue;\n        cachedShow.id = tvm.id;\n        cachedShow.name = tvm.name;\n        cachedShow.updated = tvm.updated;\n        cachedShow.premiered = tvm.premiered;\n        cachedShow.imageUrl = tvm.image && tvm.image.original;\n        cachedShow.type = tvm.type;\n        cachedShow.status = tvm.status;\n        cachedShow.summary = tvm.summary;\n        cachedShow.genres = tvm.genres;\n\n        if(tvm.image && tvm.image.medium && cachedShow.thumbUrl !== tvm.image.medium) {\n          cachedShow.thumbUrl = tvm.image.medium;\n          cachedShow.thumb = null;\n        }\n\n        await cachedShow.save();\n      }\n    });\n  }\n  \n  async refreshPage(page) {\n    try {\n      await this.parsePage((await Api.getShowsPage(page)).data, page);\n    } catch (err) {\n      if(!err.isAxiosError) throw err;\n      if(!err.response) throw err;\n\n      // If we 404, we have gone through all pages and should\n      // gracefully return that we've reached the last page.\n      if(err.response.status === 404) return false;\n      \n      throw err;\n    }\n\n    // If we've gotten here, no errors got thrown, and we also\n    // didn't detect the last page having been reached, so \n    // return true to indicate that there might be more\n    // pages\n    return true;\n  }\n\n  async refreshFromId(lastId) {\n    lastId = lastId || 0;\n    let page = Math.floor(lastId/PAGE_SIZE);\n    while(await this.refreshPage(page)) {\n      page++;\n    }\n  }\n\n  async refreshShows() {\n    await this.refreshFromId();\n    this.lastUpdated = new Date;\n  }\n\n  async getNewShows() {\n    const lastId = (await db.shows.orderBy(':id').last()).id;\n    await this.refreshFromId(lastId);\n  }\n}\n\nexport default new TVMazeController();","<template>\n  <b-row>\n    <b-form-input class=\"searchForm\" autocomplete=\"off\" v-model=\"searchTerm\" @input=\"debounceInput\" @focus=\"onfocus\" placeholder=\"Search for series\"></b-form-input>\n    <div class=\"searchResContainer\">\n      <keep-alive>\n        <search-results v-if=\"hasFocus\" :searchQuery=\"searchQuery\" :searching=\"searching\"></search-results>\n      </keep-alive>\n    </div>\n    <router-view></router-view>\n  </b-row>\n</template>\n\n<script>\nimport SearchResults from './SearchResults.vue';\nimport tvmc from '../tvmazeController';\nimport debounce from 'debounce';\nimport { getCurTime, SearchCancelledError } from '../utils';\nimport { EventBus } from '../event-bus';\n\nexport default {\n  name: 'app',\n  data() {\n    return {\n      hasFocus: false,\n      searchQuery: {term: '', results: [], time: 0},\n      searching: false,\n      searchTerm: '',\n      cancelFunc: null,\n      busHandler: null,\n    };\n  },\n  components: {\n    'search-results': SearchResults,\n  },\n  methods: {\n    onCloseSeacrh() {\n      this.hasFocus = false;\n    },\n    onfocus() {\n      this.hasFocus = true;\n    },\n    onPageClick(event) {\n      if(event.target !== this.$el && !this.$el.contains(event.target)) {\n        this.hasFocus = false;\n      }\n    },\n    debounceInput: debounce(function(text) {\n      this.doSearch(text);\n    }, 100),\n    doSearch (text) {\n      if(text[text.length-1] === ' ') {\n        text = text.trim() + ' ';\n      } else {\n        text = text.trim();\n      }\n      if(this.cancelSearch) {\n        this.cancelSearch();\n        this.cancelSearch = null;\n      }\n      if(text.length < 3) {\n        this.searchQuery.term = text;\n        this.searchQuery.results = [];\n        this.searchQuery.time = 0;\n        return;\n      }\n      const time = getCurTime();\n      this.searching = true;\n      tvmc.search(text, (cancelFunc)=>this.cancelSearch=cancelFunc).then(e=>{\n        this.cancelSearch = null;\n        this.searching = false;\n        this.searchQuery.term = text;\n        this.searchQuery.results = e;\n        this.searchQuery.time = getCurTime() - time;\n      }).catch(err => {\n        // If we cancelled the search... just don't do anything.\n        // Otherwise rethrow the error!\n        if(!(err instanceof SearchCancelledError)) {\n          this.searching = false;\n          throw err;\n        }\n      });\n    }\n  },\n  mounted() {\n    document.addEventListener('click', this.onPageClick);\n\n    this.busHandler = () => this.onCloseSeacrh();\n    EventBus.$on('closeSearch', this.busHandler);\n  },\n  beforeDestroy() {\n    document.removeEventListener('click', this.onPageClick);\n\n    EventBus.$off('closeSearch', this.busHandler);\n    this.busHandler = null;\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=64834cce&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" HI \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AboutUs.vue?vue&type=template&id=66d60e6c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  404 not found. How did this happen?\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Missing.vue?vue&type=template&id=cba201f6&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  Search above and click on a show to view details.\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./NoShow.vue?vue&type=template&id=aa619552&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  Todo: Actually implement shows :3\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Show.vue?vue&type=template&id=0b5ccd04&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import VueRouter from 'vue-router';\nimport Search from './components/Search';\nimport AboutUs from './components/AboutUs';\nimport Missing from './components/Missing';\nimport NoShow from './components/NoShow';\nimport Show from './components/Show';\n\nconst routes = [\n  { path: '/about', component: AboutUs },\n  { path: '/', component: Search,\n    children: [\n      {\n        // UserProfile will be rendered inside User's <router-view>\n        // when /user/:id/profile is matched\n        name: 'show',\n        path: ':id',\n        component: Show\n      },\n      {\n        // UserPosts will be rendered inside User's <router-view>\n        // when /user/:id/posts is matched\n        path: '/',\n        component: NoShow\n      }\n    ]\n  },\n  { path: '*', component: Missing },\n];\n\nexport default new VueRouter({routes});","import * as OfflinePluginRuntime from 'offline-plugin/runtime';\n//OfflinePluginRuntime.install();\n\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport BootstrapVue from 'bootstrap-vue';\nimport App from './App.vue';\nimport './scss/custom.scss';\nimport router from './router';\nimport tvmazeController from './tvmazeController';\nwindow. tvmc = tvmazeController;\nVue.use(VueRouter);\nVue.use(BootstrapVue);\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App),\n  async created () {\n  }\n}).$mount('#app');\n"],"sourceRoot":""}